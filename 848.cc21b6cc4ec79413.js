"use strict";(self.webpackChunkmeddler_genz_ui=self.webpackChunkmeddler_genz_ui||[]).push([[848],{3996:(j,y,n)=>{n.d(y,{Sm:()=>R});var C=n(3800),u=n(6700),O=n(4e3),b=n(8716),E=n(6040),f=n(4704),S=n(4680),P=n(9212),t=n(9144),x=n(8960),k=n(4496);let R=(()=>{class g{stateCatcher(o){return"number"==typeof o?(0,C.c)(()=>{new Error("Not application, but a state change")}):o}resetAllState(){this.activeBusinessId$.next(0),this.activeProjectId$.next(0),this.activeApplicationId$.next(0),console.log("resetAllState")}constructor(){this.activeBusinessId$=new u.g(0),this.activeProjectId$=new u.g(0),this.activeApplicationId$=new u.g(0),this.activeBusinessId=this.activeBusinessId$.asObservable().pipe((0,O.a)(),(0,b.C)({bufferSize:1,refCount:!0})),this.activeProjectId=this.activeProjectId$.asObservable().pipe((0,O.a)(),(0,b.C)({bufferSize:1,refCount:!0})),this.activeApplicationId=this.activeApplicationId$.asObservable().pipe((0,O.a)(),(0,b.C)({bufferSize:1,refCount:!0})),this.activeStateIds$=(0,E.E)([this.activeBusinessId$.pipe((0,f.k)(o=>o?.id)),this.activeProjectId$.pipe((0,f.k)(o=>o?.id)),this.activeApplicationId$.pipe((0,f.k)(o=>o?.id))]).pipe((0,f.k)(([o,d,c])=>({businessId:o,projectId:d,applicationId:c})),(0,S.o)(300))}setProjectId(o,d,c,h=null){console.log("***","setProjectId"),console.log("setProjectId___",o),d.getProjectById(o).pipe((0,P.y)({next:r=>{console.log("setProjectId","fetched_app",o),console.log("setProjectId","fetched_app",r),o=r?._id?.$oid;let p=r?.businessId?.$oid;this.resetAllState(),this.activeProjectId$.next({id:o,app:r}),this.activeBusinessId$.next({id:p,app:r?.business}),console.log("setAppId",r),c.navigate([],{queryParams:{projectid:o},queryParamsHandling:h,replaceUrl:!0})},error:()=>{this.activeProjectId$.next(2)}}),(0,t.a)((r,p)=>(console.log("fetched_app","error",r),this.activeProjectId$.next(2),x.k))).subscribe()}setAppId(o,d,c,h=null){console.log("***","setAppId"),d.getApplicationById(o).pipe((0,P.y)({next:r=>{if(console.log("fetched_app",o),o=r?._id?.$oid,!o)return void this.activeApplicationId$.next(2);this.resetAllState();let p=r?.project_id?.$oid,T=r?.business?._id?.$oid;console.log("**fetched_app",r,p,T),this.activeBusinessId$.next({id:T,app:r?.business}),this.activeProjectId$.next({id:p,app:r?.project}),this.activeApplicationId$.next({app:r,id:o}),c.navigate([],{queryParams:{appid:o},queryParamsHandling:h,replaceUrl:!0})},error:()=>{this.activeApplicationId$.next(2)}}),(0,t.a)((r,p)=>(console.log("fetched_app","error",r),this.activeApplicationId$.next(2),x.k))).subscribe()}setNothingSelected(){console.log("bootstrap=","nothing selected")}setBusinessId(o,d,c,h=null){console.log("***","setBusinessId"),d.getBusinessById(o).pipe((0,P.y)({next:r=>{o=r?._id?.$oid,console.log("businessid",o),this.resetAllState(),this.activeBusinessId$.next({id:o,app:r}),c.navigate([],{queryParams:{businessid:o},queryParamsHandling:h,replaceUrl:!0})},error:()=>{this.activeBusinessId$.next(2)}}),(0,t.a)((r,p)=>(console.log("fetched_app","error",r),this.activeBusinessId$.next(2),x.k))).subscribe()}static{this.\u0275fac=function(d){return new(d||g)}}static{this.\u0275prov=k.wxM({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()},4848:(j,y,n)=>{n.r(y),n.d(y,{DashboardModule:()=>V});var C=n(1368),u=n(6588),O=n(4025),b=n(4e3),E=n(7368),f=n(8716),S=n(5568),P=n(7724),t=n(4496),x=n(3996),k=n(2624),m=n(6408),v=n(64),l=n(2276);let B=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=t.In1({type:i,selectors:[["app-divider"]],decls:2,vars:0,consts:[[1,"wrapper"],[1,"divider","div-transparent"]],template:function(s,e){1&s&&(t.I0R(0,"div",0),t.wR5(1,"div",1),t.C$Y())},styles:['@import"https://fonts.googleapis.com/css?family=Lato:700";\n\n\n\n\n\n\n\n\n\n.wrapper[_ngcontent-%COMP%]{padding-bottom:4px;width:100%}.divider[_ngcontent-%COMP%]{position:relative;margin-top:4px;height:1px}.div-transparent[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:5%;right:5%;width:90%;height:1px;background-image:linear-gradient(to right,transparent,var(--input-danger-border-color),transparent)}']})}}return i})();function R(i,D){if(1&i&&(t.I0R(0,"div",5),t.wR5(1,"img",6),t.C$Y()),2&i){const a=t.GaO();t.yG2(),t.uQ9("icon-",a.state,""),t.E7m("src",a.icon,t.K6U)}}function g(i,D){if(1&i&&(t.SAx(0),t.I0R(1,"div",10),t.OEk(2),t.C$Y(),t.k70()),2&i){const a=t.GaO(2);t.yG2(2),t.oRS(" ",a.count," ")}}function $(i,D){1&i&&(t.I0R(0,"div",10),t.wR5(1,"nb-icon",11),t.C$Y())}function o(i,D){if(1&i&&(t.SAx(0),t.I0R(1,"div",7),t.OEk(2),t.C$Y(),t.yuY(3,g,3,1,"ng-container",8)(4,$,2,0,"ng-template",null,9,t.gJz),t.k70()),2&i){const a=t.Gew(5),s=t.GaO();t.yG2(),t.uQ9("text ",s.routerLinkActive," "),t.yG2(),t.oRS(" ",s.title," "),t.yG2(),t.E7m("ngIf",s.count)("ngIfElse",a)}}let d=(()=>{class i{constructor(){this.count=0,this.expanded=!1}set state$(a){this.state=a,this.expanded="expanded"==a,console.log("setting state",a)}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=t.In1({type:i,selectors:[["app-sidebar-list-item"]],hostVars:2,hostBindings:function(s,e){2&s&&t.eAK("expanded",e.expanded)},inputs:{routerLink:"routerLink",queryParamsHandling:"queryParamsHandling",relativeTo:"relativeTo",routerLinkActiveOptions:"routerLinkActiveOptions",isActive:"isActive",count:"count",routerLinkActive:"routerLinkActive",title:"title",icon:"icon",class:"class",state$:[t.Wk5.None,"state","state$"]},decls:5,vars:11,consts:[["routerLinkActive","active","fxLayout","column",1,"host",3,"routerLinkActiveOptions","routerLink","relativeTo","queryParamsHandling"],["rla","routerLinkActive"],["nbButton","","fxLayoutAlign","center center","fxFlex","",1,"item"],["fxLayoutAlign","center center","class","img-container",4,"ngIf"],[4,"ngIf"],["fxLayoutAlign","center center",1,"img-container"],[3,"src"],["fxFlex",""],[4,"ngIf","ngIfElse"],["moreIcon",""],[1,"caption"],["icon","chevron-right-outline",2,"font-weight","200"]],template:function(s,e){1&s&&(t.I0R(0,"div",0,1)(2,"div",2),t.yuY(3,R,2,4,"div",3)(4,o,6,6,"ng-container",4),t.C$Y()()),2&s&&(t.E7m("routerLinkActiveOptions",e.routerLinkActiveOptions)("routerLink",e.routerLink)("relativeTo",e.relativeTo)("queryParamsHandling",e.queryParamsHandling),t.yG2(2),t.eee("",e.state,"  ",e.class," ",e.routerLinkActive," main"),t.yG2(),t.E7m("ngIf",e.icon),t.yG2(),t.E7m("ngIf","expanded"==e.state))},dependencies:[C.u_,u.ER,u.LC,v.UrE,l.sZ,l.qG,l.CA],styles:['@import"https://fonts.googleapis.com/css?family=Lato:700";\n\n\n\n\n\n\n\n\n\n.main[_ngcontent-%COMP%]{min-height:calc(var(--sidebar-width-compact) - 24px);text-align:start!important}.item[_ngcontent-%COMP%]{border-radius:10px;padding-left:.5rem;padding-right:.5rem}.text[_ngcontent-%COMP%]{margin-left:1rem}.expanded_[_ngcontent-%COMP%]{margin-left:.5rem}.expanded_.parent[_ngcontent-%COMP%]{margin-left:0rem}.expanded_.child[_ngcontent-%COMP%]{margin-left:.8rem!important}.host[_ngcontent-%COMP%]{padding-top:2px;padding-bottom:2px;margin-bottom:.5rem;margin-top:0rem;margin-right:5px;margin-left:5px;border-radius:4px}.host.expanded_[_ngcontent-%COMP%]{margin-left:.5rem}.host[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--text-success-color);font-weight:380!important}.host.active[_ngcontent-%COMP%]{background:var(--background-alternative-color-4)!important}.host.active[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--text-info-color);font-weight:500!important}.host[_ngcontent-%COMP%]:hover{background:var(--color-alternative-800);background:var(--background-alternative-color-3)}.host[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--text-hint-color)}.host.disabled[_ngcontent-%COMP%]{opacity:.5}.img-container[_ngcontent-%COMP%]{width:var(--sidebar-icon-size)}img[_ngcontent-%COMP%]{width:calc(var(--sidebar-width-compact) - 44px)}.caption[_ngcontent-%COMP%]{margin-right:.7rem}']})}}return i})();const c=()=>({exact:!1}),h=()=>["engagement"],r=()=>["signals"],p=()=>["/dashboard"],T=()=>["accounts"],w=()=>["teams"],F=()=>["integration"],N=()=>["/","settings"],U=()=>["/workspace"],Y=()=>["/auth","logout"],W=[{path:"",data:{sidebar:(()=>{class i{constructor(a,s,e,_,I,M,A){this.stateManagerService=a,this.apiService=s,this.activatedRoute=e,this.accessChecker=_,this.router=I,this.sidebarService=M,this.nbThemeService=A,this.menuTag="",this.Icons=P.Ww,this.sidebarState=this.sidebarService.getSidebarState(this.menuTag).pipe((0,b.a)()),this.stateDetails=this.stateManagerService.activeStateIds$,this.metaData=this.stateDetails.pipe((0,E.G)(L=>this.apiService.getMetaData(L)),(0,f.C)({bufferSize:1,refCount:!0}))}ngAfterViewInit(){this.nbThemeService.onMediaQueryChange().pipe((0,S.W)(null),(0,E.G)(a=>this.sidebarService.getSidebarState())).subscribe(a=>{console.log("responsive","startwith",a),this.updateSidebarState(a)})}updateSidebarState(a){this.state=a}static{this.\u0275fac=function(s){return new(s||i)(t.GI1(x.Sm),t.GI1(k.Ww),t.GI1(u.gV),t.GI1(m.g7),t.GI1(u.E5),t.GI1(v.ea8),t.GI1(v.w$$))}}static{this.\u0275cmp=t.In1({type:i,selectors:[["app-sidebar-list"]],decls:28,vars:76,consts:[["fxFill","","fxLayout","column"],["fxFlex","0 0 auto"],["fxFlex","","title","Engagement","queryParamsHandling","preserve","routerLinkActive","_active",3,"count","state","icon","routerLinkActiveOptions","routerLink","relativeTo"],["fxFlex","","title","Signals","queryParamsHandling","preserve","routerLinkActive","_active",3,"count","state","icon","routerLinkActiveOptions","routerLink","relativeTo"],["fxFlex","","title","Findings","queryParamsHandling","preserve","routerLinkActive","_active",3,"count","state","icon","routerLinkActiveOptions","routerLink","relativeTo"],["fxFlex","","title","Accounts","queryParamsHandling","preserve","routerLinkActive","_active",3,"count","state","icon","routerLinkActiveOptions","routerLink","relativeTo"],["fxFlex","","title","Teams","queryParamsHandling","preserve","routerLinkActive","_active",3,"count","state","icon","routerLinkActiveOptions","routerLink","relativeTo"],["fxFlex","","title","Integration","queryParamsHandling","preserve","routerLinkActive","_active",3,"state","icon","routerLinkActiveOptions","routerLink","relativeTo"],["fxFlex","1 1 auto","fxLayoutAlign","start end"],["fxFlex","1 1  "],["fxFlex","","title","Settings",3,"state","icon","routerLink"],["fxFlex","0 0 auto","fxLayoutAlign","start end"],["fxFlex","","title","Switch","queryParamsHandling","preserve","routerLinkActive","_active",1,"subitem-header",3,"state","icon","routerLinkActiveOptions","routerLink","relativeTo"],["fxFlex","","title","Logout","queryParamsHandling","preserve","routerLinkActive","_active",1,"subitem-header",3,"isActive","state","icon","routerLinkActiveOptions","routerLink","relativeTo"],["rla","routerLinkActive"]],template:function(s,e){if(1&s&&(t.I0R(0,"nb-list",0)(1,"nb-list-item",1),t.wR5(2,"app-sidebar-list-item",2),t.wVc(3,"async"),t.C$Y(),t.I0R(4,"nb-list-item",1),t.wR5(5,"app-sidebar-list-item",3),t.wVc(6,"async"),t.C$Y(),t.I0R(7,"nb-list-item",1),t.wR5(8,"app-sidebar-list-item",4),t.wVc(9,"async"),t.C$Y(),t.I0R(10,"nb-list-item",1),t.wR5(11,"app-sidebar-list-item",5),t.wVc(12,"async"),t.C$Y(),t.I0R(13,"nb-list-item",1),t.wR5(14,"app-sidebar-list-item",6),t.wVc(15,"async"),t.C$Y(),t.I0R(16,"nb-list-item",1),t.wR5(17,"app-sidebar-list-item",7),t.C$Y(),t.wR5(18,"nb-list-item",8),t.I0R(19,"nb-list-item"),t.wR5(20,"app-divider",9),t.C$Y(),t.I0R(21,"nb-list-item",1),t.wR5(22,"app-sidebar-list-item",10),t.C$Y(),t.I0R(23,"nb-list-item",11),t.wR5(24,"app-sidebar-list-item",12),t.C$Y(),t.I0R(25,"nb-list-item",11),t.wR5(26,"app-sidebar-list-item",13,14),t.C$Y()()),2&s){const _=t.Gew(27);let I,M,A,L,G;t.yG2(2),t.E7m("count",null==(I=t.kDX(3,49,e.metaData))||null==I.engagement?null:I.engagement.count)("state",e.state)("icon",e.Icons.ENGAGEMENT)("routerLinkActiveOptions",t.q4q(59,c))("routerLink",t.q4q(60,h))("relativeTo",e.activatedRoute),t.yG2(3),t.E7m("count",null==(M=t.kDX(6,51,e.metaData))||null==M.finding?null:M.finding.count)("state",e.state)("icon",e.Icons.SIGNALS)("routerLinkActiveOptions",t.q4q(61,c))("routerLink",t.q4q(62,r))("relativeTo",e.activatedRoute),t.yG2(3),t.E7m("count",null==(A=t.kDX(9,53,e.metaData))||null==A.finding?null:A.finding.count)("state",e.state)("icon",e.Icons.FINDINGS)("routerLinkActiveOptions",t.q4q(63,c))("routerLink",t.q4q(64,p))("relativeTo",e.activatedRoute),t.yG2(3),t.E7m("count",null==(L=t.kDX(12,55,e.metaData))||null==L.business?null:L.business.count)("state",e.state)("icon",e.Icons.ACCOUNT)("routerLinkActiveOptions",t.q4q(65,c))("routerLink",t.q4q(66,T))("relativeTo",e.activatedRoute),t.yG2(3),t.E7m("count",null==(G=t.kDX(15,57,e.metaData))||null==G.user?null:G.user.count)("state",e.state)("icon",e.Icons.TEAM)("routerLinkActiveOptions",t.q4q(67,c))("routerLink",t.q4q(68,w))("relativeTo",e.activatedRoute),t.yG2(3),t.E7m("state",e.state)("icon",e.Icons.INTEGRATION)("routerLinkActiveOptions",t.q4q(69,c))("routerLink",t.q4q(70,F))("relativeTo",e.activatedRoute),t.yG2(5),t.E7m("state",e.state)("icon",e.Icons.INTEGRATION)("routerLink",t.q4q(71,N)),t.yG2(2),t.E7m("state",e.state)("icon",e.Icons.SWITCH_WORKSPACE)("routerLinkActiveOptions",t.q4q(72,c))("routerLink",t.q4q(73,U))("relativeTo",e.activatedRoute),t.yG2(2),t.E7m("isActive",_.isActive)("state",e.state)("icon",e.Icons.LOGOUT)("routerLinkActiveOptions",t.q4q(74,c))("routerLink",t.q4q(75,Y))("relativeTo",e.activatedRoute)}},dependencies:[u.ER,u.LC,l.sZ,l.qG,l.Kg,l.CA,v.EfU,v.aYD,B,d,C.a],styles:['@import"https://fonts.googleapis.com/css?family=Lato:700";\n\n\n\n\n\n\n\n\n\nnb-list[_ngcontent-%COMP%]{padding:0;padding-top:1rem}.expander[_ngcontent-%COMP%]{width:20px;height:20px;top:50%;position:absolute;right:-10px}.subitem-header[_ngcontent-%COMP%]{color:var(--color-success-400)}nb-list-item[_ngcontent-%COMP%]{padding:0;border:none!important}.subitem[_ngcontent-%COMP%]{margin-left:38px}nb-toggle.unselected[_ngcontent-%COMP%]     .toggle{background-color:var(--color-basic-700)!important}nb-toggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#fff!important}nb-toggle.unselected[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#fff!important}nb-card-footer[_ngcontent-%COMP%]{cursor:pointer}.nb-card-footer[_ngcontent-%COMP%]{padding:0;border-top-left-radius:.5rem;border-top-right-radius:.5rem;border:0}.nb-card-footer[_ngcontent-%COMP%]   .appName[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:10px}.nb-card-footer[_ngcontent-%COMP%]   .appName[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{justify-content:start;font-family:Roboto,sans-serif;font-size:.9rem;text-transform:capitalize;margin-left:20px;margin-right:20px;font-weight:500;background-color:#7d2ae8!important;color:var(--text-basic-color)!important;box-shadow:0 0 8px #7d2ae8;border:none;transition:all .3s ease 0s;cursor:pointer;outline:none;height:calc(var(--header-height) - 20px)}.nb-card-footer[_ngcontent-%COMP%]   .appName[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:var(--color-success-500)!important;box-shadow:0 0 8px var(--color-success-400);color:var(--text-alternative-color)!important}.nb-card-footer[_ngcontent-%COMP%]   .appName[_ngcontent-%COMP%]{font-weight:500}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp[_ngcontent-%COMP%]{border-radius:.5rem;margin:4px;padding:10px 5px;transition-duration:.3s}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp[_ngcontent-%COMP%]   .texttitle[_ngcontent-%COMP%]{color:var(--text-primary-color)}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{margin-left:10px;margin-right:20px;border:2px solid #7d2ae8;height:3rem;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;width:3rem;box-shadow:0 0 8px #7d2ae8}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:1.8rem;line-height:1.8rem;color:#7d2ae8;font-weight:400;text-transform:capitalize}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp.hover[_ngcontent-%COMP%]{background:var(--color-basic-900)}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp.hover[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{border:2px solid var(--text-success-color);background-color:var(--text-success-color);box-shadow:0 0 8px var(--text-success-color)}.nb-card-footer[_ngcontent-%COMP%]   .selectedApp.hover[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:2.5rem;line-height:2.5rem;color:#fff!important;font-weight:400;text-transform:capitalize}']})}}return i})(),header:n(4512).q},component:O.i,children:[{path:"",redirectTo:"accounts",pathMatch:"full"},{path:"signals",loadChildren:()=>n.e(589).then(n.bind(n,3589)).then(i=>i.SignalsModule)},{path:"teams",loadChildren:()=>n.e(8).then(n.bind(n,5008)).then(i=>i.TeamManagementModule)},{path:"accounts",loadChildren:()=>n.e(928).then(n.bind(n,6312)).then(i=>i.AccountsManagementModule)},{path:"integration",loadChildren:()=>n.e(776).then(n.bind(n,776)).then(i=>i.ExtensionsModule)},{path:"**",redirectTo:"",pathMatch:"full"}]}];let z=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=t.a4G({type:i})}static{this.\u0275inj=t.s3X({imports:[u.qQ.forChild(W),u.qQ]})}}return i})();var K=n(7312);let V=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=t.a4G({type:i})}static{this.\u0275inj=t.s3X({providers:[v.ea8],imports:[C.MD,K.G,z]})}}return i})()}}]);